<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <parameters>
        <parameter key="zf2cache.storage.factory.class">Zend\Cache\StorageFactory</parameter>
        <parameter key="zf2cache.storage.interface">Zend\Cache\Storage\StorageInterface</parameter>
        <parameter key="zf2cache.storage.config" type="collection">
            <parameter key="adapter" type="collection">
                <parameter key="name">memcached</parameter>
                <parameter key="options" type="collection">
                    <parameter key="servers" type="collection">
                        <parameter type="collection">
                            <parameter>localhost</parameter>
                            <parameter>11211</parameter>
                        </parameter>
                    </parameter>
                    <parameter key="namespace">db-table-product</parameter>
                    <parameter key="ttl">30</parameter>
                </parameter>
            </parameter>

            <parameter key="plugins" type="collection">
                <parameter key="exception_handler" type="collection">
                    <parameter  key="throw_exceptions">false</parameter>
                </parameter>
                <parameter>Serializer</parameter>
            </parameter>
        </parameter>
    </parameters>

    <services>
        <service id="zf2cache.storage.adapter"
                 class="%zf2cache.storage.interface%"
                 factory-class="%zf2cache.storage.factory.class%"
                 factory-method="factory">
            <argument>%zf2cache.storage.config%</argument>
        </service>
    </services>
</container>
